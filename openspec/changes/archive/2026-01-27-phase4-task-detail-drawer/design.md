## Context

タスク管理アプリケーションでは、タスクツリー画面でタスクの一覧表示が実装済み。現在はタイトルとステータスのみ表示しており、タスクの詳細情報（説明、期限、作業記録など）を確認・編集する手段がない。

future-spec.md では「タスクをクリックしたとき、ドロワー形式で右から表示する」と定義されている。Shadcn/ui の Sheet コンポーネントが利用可能。

## Goals / Non-Goals

**Goals:**
- タスクをクリックしてドロワーで詳細を表示できる
- ドロワー内でタスクの全フィールドを編集できる
- 編集内容が即座に保存される（楽観的更新）

**Non-Goals:**
- タスクの新規作成（Phase 5 で実装）
- タスクの削除（Phase 5 で実装）
- 作業記録の Markdown 対応（将来的な検討事項）

## Decisions

### 1. Shadcn/ui Sheet コンポーネントの使用

**決定**: ドロワーには Shadcn/ui の Sheet コンポーネントを使用する

**理由**:
- Radix UI ベースでアクセシビリティが考慮されている
- プロジェクトで既に Shadcn/ui を採用済み
- 右側からスライドインする動作が標準でサポートされている

**代替案**:
- 自前実装: アクセシビリティ対応の工数が増える
- 別ライブラリ: プロジェクトの技術選定に反する

### 2. 選択中タスクの状態管理

**決定**: TaskTreeView コンポーネントで選択中のタスク ID を useState で管理する

**理由**:
- ドロワーの開閉状態はローカルな UI 状態であり、グローバルストアに入れる必要がない
- シンプルな実装で十分

**代替案**:
- Zustand ストアで管理: 過剰な設計。将来的に複数画面でタスク選択を共有する必要が出たら移行を検討

### 3. フォーム構成

**決定**: 各フィールドを個別に編集可能なインラインフォーム形式

**理由**:
- 各フィールドの変更を即座に保存できる
- 「保存」ボタンを押す手間が省ける
- future-spec.md に特定のフォーム形式の指定がない

**代替案**:
- 一括編集 + 保存ボタン: 操作が煩雑になる

### 4. 日付入力

**決定**: HTML の `<input type="date">` を使用

**理由**:
- ブラウザネイティブの日付ピッカーが利用できる
- 追加のライブラリが不要
- ISO 8601 形式との変換が容易

## Risks / Trade-offs

**[リスク] 即時保存による意図しない変更** → 編集中にフォーカスが外れると保存される挙動はユーザーが慣れる必要がある。将来的にアンドゥ機能を検討

**[リスク] 長い作業記録のテキストエリアの高さ** → 初期実装ではシンプルな固定高さで対応。必要に応じて自動リサイズを検討
