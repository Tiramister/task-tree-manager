## MODIFIED Requirements

### Requirement: 個別タスクの折り畳み/展開

ユーザーは子タスクを持つタスクを折り畳み/展開できなければならない（SHALL）。折り畳み状態は Zustand ストアで管理され、操作時に自動的に永続化される。

#### Scenario: 子タスクの折り畳み

- **WHEN** ユーザーが子タスクを持つタスクの折り畳みトグルをクリックする
- **THEN** そのタスクの子タスク（およびその子孫）が非表示になり、折り畳み状態がストアに保存される

#### Scenario: 子タスクの展開

- **WHEN** ユーザーが折り畳まれたタスクの展開トグルをクリックする
- **THEN** そのタスクの子タスクが表示され、折り畳み状態がストアから除去される

#### Scenario: 子タスクがない場合

- **WHEN** タスクに子タスクがない
- **THEN** 折り畳みトグルは表示されない、または非アクティブ状態で表示される

### Requirement: 一括折り畳み/展開

ユーザーはすべてのタスクを一括で折り畳み/展開できなければならない（SHALL）。操作結果は自動的に永続化される。

#### Scenario: 全て折り畳み

- **WHEN** ユーザーが「全て折り畳む」ボタンをクリックする
- **THEN** すべての親タスクが折り畳まれ、ルートレベルのタスクのみが表示され、折り畳み状態がストアに保存される

#### Scenario: 全て展開

- **WHEN** ユーザーが「全て展開」ボタンをクリックする
- **THEN** すべてのタスクが展開され、全階層のタスクが表示され、折り畳み状態がストアからクリアされる
