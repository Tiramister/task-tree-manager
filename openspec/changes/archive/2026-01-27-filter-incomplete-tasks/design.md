## Context

一覧画面（`TaskTreeView`）にはすべてのタスクがツリー構造で表示される。タスクのステータスは `not_started`、`in_progress`、`waiting`、`completed` の 4 種類。完了タスクが増えると視認性が低下するため、フィルタ機能を追加する。

## Goals / Non-Goals

**Goals:**
- 一覧画面にトグルボタンを設置し、完了タスクの表示/非表示を切り替えられるようにする
- ツリー構造を考慮したフィルタリング（子孫に未完了タスクがある親は表示を維持）

**Non-Goals:**
- フィルタ状態の永続化（リロードでリセットされて問題ない）
- ステータスごとの細かいフィルタ（完了/未完了の二値のみ）

## Decisions

### フィルタロジックの実装場所

**決定**: `TaskTreeView` コンポーネント内で `useState` によるローカルステートとして管理し、表示時にフィルタリングする。

**理由**: フィルタは UI の表示制御のみであり、ストアに持たせる必要がない。コンポーネントローカルで十分。

### ツリーフィルタリングの方針

**決定**: タスク自身またはその子孫に未完了タスクがあれば表示する。すべての子孫が完了であればツリーごと非表示にする。

**理由**: 親タスクが未完了でも子がすべて完了の場合は非表示にすると、ユーザーが意図せず親タスクを見落とす可能性がある。しかし、親タスク自身が未完了なら表示するため問題ない。

### UI コンポーネント

**決定**: 既存の UI パターンに合わせ、ヘッダー領域にアイコン付きトグルボタンを配置する。

## Risks / Trade-offs

- **[パフォーマンス]** タスク数が多い場合のフィルタリングコスト → 現状の規模では問題にならない。必要になれば `useMemo` で対応可能。
