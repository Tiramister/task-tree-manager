## MODIFIED Requirements

### Requirement: タスク操作時のバックエンド送信

ログイン済みユーザーがタスクを操作した場合、対応するバックエンド API にデータを送信しなければならない（SHALL）。送信はバックグラウンドで行う（SHALL）。
タスク作成（`POST /tasks`）が成功した場合、システムはレスポンスに含まれる作成済みタスク ID を、作成直後に taskStore へ追加された該当タスクへ反映しなければならない（SHALL）。
この反映は作成対象タスクに対する最小更新として行い、他タスクの状態をバックエンドレスポンスで全体上書きしてはならない（MUST NOT）。

対応する操作と API のマッピング:
- タスク作成 → `POST /tasks`
- タスク更新 → `PATCH /tasks/{id}`
- タスク削除 → `DELETE /tasks/{id}`
- タスク並べ替え → `PATCH /tasks/{id}/reorder`

#### Scenario: ログイン済みユーザーがタスクを作成する

- **WHEN** ログイン済みユーザーがタスクを作成する
- **THEN** taskStore にタスクが追加された後、`POST /tasks` でバックエンドにデータが送信される

#### Scenario: タスク作成成功時にバックエンド採番 ID が反映される

- **WHEN** ログイン済みユーザーのタスク作成に対する `POST /tasks` が成功し、レスポンスに作成済みタスク ID が含まれる
- **THEN** taskStore 内の作成直後タスクの ID はレスポンスの ID に更新され、以後の更新・削除・並べ替えはその ID を使用する

#### Scenario: ログイン済みユーザーがタスクを更新する

- **WHEN** ログイン済みユーザーがタスクを更新する
- **THEN** taskStore のタスクが更新された後、`PATCH /tasks/{id}` でバックエンドにデータが送信される

#### Scenario: ログイン済みユーザーがタスクを削除する

- **WHEN** ログイン済みユーザーがタスクを削除する
- **THEN** taskStore からタスクが削除された後、`DELETE /tasks/{id}` でバックエンドにデータが送信される

#### Scenario: ログイン済みユーザーがタスクを並べ替える

- **WHEN** ログイン済みユーザーが moveTask でタスクを並べ替える
- **THEN** taskStore の sortOrder が更新された後、対象の2つのタスクそれぞれについて `PATCH /tasks/{id}/reorder` でバックエンドにデータが送信される

#### Scenario: 未ログインユーザーがタスクを操作する

- **WHEN** 未ログインユーザーがタスクを作成・更新・削除・並べ替えする
- **THEN** バックエンドへのリクエストは送信されず、localStorage のみが更新される
