### Requirement: タスクツリーの階層表示

システムはタスクを階層構造（木構造）で表示しなければならない（SHALL）。親タスクの下に子タスクがインデントされて表示される。同一階層内のタスクは sortOrder 降順（値が大きいほど上）で表示される。

#### Scenario: ルートタスクの表示
- **WHEN** タスクが存在し、そのタスクに parentId がない
- **THEN** そのタスクはツリーのルートレベルに sortOrder 降順で表示される

#### Scenario: 子タスクの表示
- **WHEN** タスクが parentId を持つ
- **THEN** そのタスクは親タスクの下にインデントされ、同一親の子タスク内で sortOrder 降順で表示される

#### Scenario: 複数階層の表示
- **WHEN** 孫タスク（子の子）が存在する
- **THEN** 各階層ごとにインデントが追加され、階層構造が視覚的に明確になる

### Requirement: タスク情報の表示

各タスクの行には、タイトルとステータスが表示されなければならない（SHALL）。タスクの行をクリックすることでタスク詳細ドロワーを開くことができる。

#### Scenario: タスク行の表示内容
- **WHEN** タスクがツリーに表示される
- **THEN** タスクのタイトルとステータス（未着手/作業中/待ち/完了）が表示される

#### Scenario: タスククリックでドロワーを開く
- **WHEN** ユーザーがタスク行をクリックする
- **THEN** そのタスクの詳細ドロワーが開く

#### Scenario: 折り畳みトグルのクリック
- **WHEN** ユーザーが折り畳みトグルをクリックする
- **THEN** 折り畳み/展開が行われ、ドロワーは開かない

### Requirement: 個別タスクの折り畳み/展開

ユーザーは子タスクを持つタスクを折り畳み/展開できなければならない（SHALL）。

#### Scenario: 子タスクの折り畳み
- **WHEN** ユーザーが子タスクを持つタスクの折り畳みトグルをクリックする
- **THEN** そのタスクの子タスク（およびその子孫）が非表示になる

#### Scenario: 子タスクの展開
- **WHEN** ユーザーが折り畳まれたタスクの展開トグルをクリックする
- **THEN** そのタスクの子タスクが表示される

#### Scenario: 子タスクがない場合
- **WHEN** タスクに子タスクがない
- **THEN** 折り畳みトグルは表示されない、または非アクティブ状態で表示される

### Requirement: 一括折り畳み/展開

ユーザーはすべてのタスクを一括で折り畳み/展開できなければならない（SHALL）。

#### Scenario: 全て折り畳み
- **WHEN** ユーザーが「全て折り畳む」ボタンをクリックする
- **THEN** すべての親タスクが折り畳まれ、ルートレベルのタスクのみが表示される

#### Scenario: 全て展開
- **WHEN** ユーザーが「全て展開」ボタンをクリックする
- **THEN** すべてのタスクが展開され、全階層のタスクが表示される

### Requirement: 空状態の表示

タスクが存在しない場合、適切なメッセージを表示しなければならない（SHALL）。

#### Scenario: タスクがない場合
- **WHEN** タスクが1つも存在しない
- **THEN** 「タスクがありません」などの空状態メッセージが表示される
