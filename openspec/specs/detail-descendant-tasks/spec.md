### Requirement: 子孫タスクセクションの表示

タスク詳細ドロワーは、選択中のタスクに子孫タスク（子・孫・それ以下）が存在する場合、「子タスク」セクションを表示しなければならない（SHALL）。

#### Scenario: 子タスクがある場合
- **WHEN** 子タスクを持つタスクの詳細ドロワーが開かれる
- **THEN** 既存フィールドの下に「子タスク」セクションが表示され、子孫タスクが再帰的なツリー構造で一覧表示される

#### Scenario: 子タスクがない場合
- **WHEN** 子タスクを持たないタスクの詳細ドロワーが開かれる
- **THEN** 「子タスク」セクションは表示されない

### Requirement: 子孫タスクの再帰的なツリー表示

子孫タスクは階層構造を保ったツリー形式で表示されなければならない（SHALL）。子タスクの子（孫タスク）以下も再帰的にインデントされて表示される。

#### Scenario: 孫タスクの表示
- **WHEN** 子タスクがさらに子タスク（孫タスク）を持つ
- **THEN** 孫タスクが子タスクの下にインデントされて表示される

#### Scenario: 多階層の表示
- **WHEN** 3階層以上の子孫タスクが存在する
- **THEN** 各階層ごとにインデントが追加され、階層構造が視覚的に明確になる

### Requirement: 子孫タスクの作業記録を表示

各子孫タスクは折り畳み可能で、展開すると作業記録（notes）を表示しなければならない（SHALL）。

#### Scenario: タスクを展開して作業記録を表示
- **WHEN** ユーザーが子孫タスクのタイトルをクリックする
- **THEN** そのタスクが展開され、作業記録が表示される

#### Scenario: 作業記録が未設定の場合
- **WHEN** 子孫タスクの作業記録が未設定の状態で展開される
- **THEN** 「作業記録なし」などの空状態メッセージが表示される

#### Scenario: タスクを折り畳む
- **WHEN** ユーザーが展開中の子孫タスクのタイトルをクリックする
- **THEN** そのタスクが折り畳まれ、作業記録が非表示になる

### Requirement: 子孫タスクの初期表示状態

子タスクセクションが表示されるとき、すべての子孫タスクは初期状態で折り畳まれていなければならない（SHALL）。

#### Scenario: ドロワーを開いた直後の状態
- **WHEN** 子タスクを持つタスクの詳細ドロワーが開かれる
- **THEN** すべての子孫タスクが折り畳まれた状態で表示される

### Requirement: 子孫タスクの一括折り畳み/展開

ユーザーはすべての子孫タスクを一括で折り畳み/展開できなければならない（SHALL）。

#### Scenario: 全て展開
- **WHEN** ユーザーが「全て展開」ボタンをクリックする
- **THEN** すべての子孫タスクが展開され、作業記録が表示される

#### Scenario: 全て折り畳む
- **WHEN** ユーザーが「全て折り畳む」ボタンをクリックする
- **THEN** すべての子孫タスクが折り畳まれる

### Requirement: 子孫タスクは閲覧専用

子タスクセクションに表示されるデータは閲覧専用でなければならない（SHALL）。編集操作は提供しない。

#### Scenario: タスクのタイトルは編集不可
- **WHEN** ユーザーが子孫タスクのタイトルを操作する
- **THEN** タイトルの折り畳みトグルのみが動作し、テキストの編集はできない

#### Scenario: タスクの作業記録は編集不可
- **WHEN** 子孫タスクの作業記録が展開表示されている
- **THEN** 作業記録はプレーンテキストとして表示され、編集操作はできない
